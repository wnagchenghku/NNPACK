cmake .. -DNNPACK_LIBRARY_TYPE="shared" -DCMAKE_POSITION_INDEPENDENT_CODE=ON -DNNPACK_BACKEND="scalar" -DNNPACK_INFERENCE_ONLY=ON

make VERBOSE=1

/usr/bin/cc -Wl,-hash-style=sysv -fno-stack-protector -fPIC -nostdlib -shared -Wl,-soname,libnnpack.so -o libnnpack.so CMakeFiles/nnpack.dir/src/init.c.o CMakeFiles/nnpack.dir/src/convolution-inference.c.o CMakeFiles/nnpack.dir/src/fully-connected-inference.c.o CMakeFiles/nnpack.dir/src/pooling-output.c.o CMakeFiles/nnpack.dir/src/relu-output.c.o CMakeFiles/nnpack.dir/src/softmax-output.c.o CMakeFiles/nnpack.dir/src/psimd/2d-fourier-8x8.c.o CMakeFiles/nnpack.dir/src/psimd/2d-fourier-16x16.c.o CMakeFiles/nnpack.dir/src/psimd/2d-winograd-8x8-3x3.c.o CMakeFiles/nnpack.dir/src/psimd/blas/s4gemm.c.o CMakeFiles/nnpack.dir/src/psimd/blas/c4gemm-conjb.c.o CMakeFiles/nnpack.dir/src/psimd/blas/s4c2gemm-conjb.c.o CMakeFiles/nnpack.dir/src/psimd/blas/conv1x1.c.o CMakeFiles/nnpack.dir/src/psimd/blas/sgemm.c.o CMakeFiles/nnpack.dir/src/psimd/relu.c.o CMakeFiles/nnpack.dir/src/psimd/softmax.c.o CMakeFiles/nnpack.dir/src/psimd/blas/sdotxf.c.o CMakeFiles/nnpack.dir/src/psimd/blas/shdotxf.c.o deps/pthreadpool/libpthreadpool.a

To build NNPACK with psimd on Ubuntu, we need to use GCC-4.8.
ln -s /usr/bin/GCC-4.8 /usr/bin/CC
